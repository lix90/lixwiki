# 前端开发

包括前端开发语言、框架和工具，前端有关的设计原则和工具等。

## 前端模板

通过 hexo 静态博客生成器了解到了前端页面的模板，还没有对前端三种“语言”全面的了解，提前了解了下模板技术。本来前端技术让初学者眼花缭乱，各种各样的模板技术又人不知所措了。

三种截然不同的模板方案：
- String-based 模板技术：基于字符串的 parse 和 compile 过程；
- Dom-based 模板技术：基于 Dom 的 link 或 compile 过程；
- 杂交的 Living templating 技术：基于字符串的 parse 和基于 dom 的 compile 过程。

问题：什么是 innerHTML？
> innerHTML 属性可以用来获取、修改指定元素内的所有标签和内容。
使用 innerHTML 存在安全风险，应该避免使用。

**前端模板对照表**

Contrast/Solutions | String-based templating | Dom-based templating | Living templating
:-------- | :---------| :-----------| :-----------
例子 | Mustache, Dustjs | Angularjs, Vuejs | Regularjs, Ractivejs, htmlbars Usage
语法 | ### | ### | ### |
活动性：X | ### | ###
性能：初始 | ### | # | #
性能：更新 | # | ### | ###
安全性 | # | ## | #####
Dom 无关 | ##### | X | ##
SVG 支持性 | X | ## | ###

参考：[前端模板技术面面观](http://leeluolee.github.io/2014/10/10/template-engine/)

那么问题来了：**如何选择模板？**

按检索习惯，从知乎搜了几个相关问题的解答，总结在此。另外再查几个英文的资料。

- 前端框架不是模板引擎；
- 前端的后续更新是字符串模板引擎的软肋？
- 前端渲染 vs 服务器端渲染：差别在哪？孰优孰劣？
- 静态内容直接服务端渲染，首屏加载速度块；动态的应用界面，不应该用拼模板的思路，而是用做应用的架构（MV*，组件树）思路。

前端模板需要有什么样的特性？
- **透明性**：在搭建好开发环境后，网页效果及时更新，不需要额外的执行任何命令或等待过程。故一切依赖编译过程的模板引擎并不适合前端使用，编译只能是模板引擎的一个特性，而不是使用的前提。所以，前端的模板引擎应该具备可在纯前端环境中解析使用的能力。---> 透明性这词让我这个门外汉有点儿迷惑不解
- **调试能力**：后端的任何错误都可以有严格的日志记录和调用堆栈以供分析，而前端很难做到完全的呃错误处理和跟踪。所以，如果问题出现在模板引擎这一层时，就需要模板引擎提供良好的调试能力。
- **良好支持文件合并**
- **对 XSS 的防范**：前端对 XSS 的防范比较合适的方法是使用“默认转义”的白名单式策略。 --- 什么是 XSS？
- **支持片段复用**：变量到处用；函数到处用；可被外部替换，但外部不提供此片段的话保持一个默认的内容，类似设计模式中的策略模式。
- **支持数据输出时的处理**：指一个数据要在输出时做额外的转换。
- **支持动态数据**
- **前端模板引擎要与异步流程严密结合** ---> 如何理解 **异步**？
- **支持不同的开发模式**：典型的开发模式
  + 最普通的 HTML 页面，使用 DOMContentLoaded 等事件添加逻辑，特定交互下局部刷新页面
  + 采用传统的 MVC 模型进行单页式开发
  + 使用 MVVM 方式以数据为核心，数据有视图方向绑定进行开发
  + 基于 Immutable Data 进行数据比对 Diff 转 DOM 更新的开发（其中可能有 Virtual DOM 的引入）
- **具有实例间的隔离**

问题：string-based vs dom-based 模板引擎，孰优孰劣？
问题：什么是 **同构渲染**？

问题：什么是 **XSS 攻击**？

XSS攻击又叫跨站脚本式攻击（Cross Site Scripting）。

> XSS是一种常见的web安全漏洞，它允许攻击者将恶意代码植入到提供给其它用户使用的页面中。不同于大多数攻击(一般只涉及攻击者和受害者)，XSS涉及到三方，即攻击者、客户端与Web应用。XSS的攻击目标是为了盗取存储在客户端的cookie或者其他网站用于识别客户端身份的敏感信息。一旦获取到合法用户的信息后，攻击者甚至可以假冒合法用户与网站进行交互。

参考：
- [有哪些好用的前端模板引擎？](https://www.zhihu.com/question/32524504)
- [避免 XSS 攻击](https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/09.3.md)

## 业务逻辑 vs 代码逻辑？

业务逻辑就是客户的逻辑。

- 表现层（presentation layer）
- 业务逻辑层（application layer）
- 数据访问层（data layer）

业务逻辑不关心页面如何跳转，只是简单的返回成功，或是失败，或是异常。
业务逻辑也不关心数据如何存储，是存储文件系统，还是数据库系统
